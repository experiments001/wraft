{
  "swagger": "2.0",
  "securityDefinitions": {
    "Bearer": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header",
      "description": "API Operations require a valid token."
    }
  },
  "security": [
    {
      "Bearer": []
    }
  ],
  "paths": {
    "/users/signup": {
      "post": {
        "tags": [
          "Registration"
        ],
        "summary": "User registration",
        "responses": {
          "422": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unprocessable Entity"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/UserToken"
            },
            "description": "Ok"
          }
        },
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/UserRegisterRequest"
            },
            "required": true,
            "name": "user",
            "in": "body",
            "description": "User to register"
          }
        ],
        "operationId": "WraftDocWeb.Api.V1.RegistrationController.create",
        "description": "User registration API"
      }
    },
    "/users/signin": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "User sign in",
        "responses": {
          "422": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unprocessable Entity"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/UserToken"
            },
            "description": "Ok"
          }
        },
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/UserLoginRequest"
            },
            "required": true,
            "name": "user",
            "in": "body",
            "description": "User to trying to login"
          }
        ],
        "operationId": "WraftDocWeb.Api.V1.UserController.signin",
        "description": "User sign in API"
      }
    },
    "/layouts/{id}": {
      "get": {
        "tags": [
          "Layout"
        ],
        "summary": "Show a Layout",
        "responses": {
          "401": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unauthorized"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/ShowLayout"
            },
            "description": "Ok"
          }
        },
        "parameters": [
          {
            "type": "string",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "user id"
          }
        ],
        "operationId": "WraftDocWeb.Api.V1.LayoutController.show",
        "description": "API to show details of a layout"
      }
    },
    "/layouts": {
      "post": {
        "tags": [
          "Layout"
        ],
        "summary": "Create layout",
        "responses": {
          "422": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unprocessable Entity"
          },
          "401": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unauthorized"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/LayoutAndEngine"
            },
            "description": "Ok"
          }
        },
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/LayoutRequest"
            },
            "required": true,
            "name": "layout",
            "in": "body",
            "description": "Layout to be created"
          }
        ],
        "operationId": "WraftDocWeb.Api.V1.LayoutController.create",
        "description": "Create layout API"
      },
      "get": {
        "tags": [
          "Layout"
        ],
        "summary": "Layout index",
        "responses": {
          "401": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unauthorized"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/LayoutsAndEngines"
            },
            "description": "Ok"
          }
        },
        "parameters": [],
        "operationId": "WraftDocWeb.Api.V1.LayoutController.index",
        "description": "API to get the list of all layouts created so far"
      }
    },
    "/engines": {
      "get": {
        "tags": [
          "Engine"
        ],
        "summary": "List of all enignes",
        "responses": {
          "422": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unprocessable Entity"
          },
          "401": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unauthorized"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/Engines"
            },
            "description": "Ok"
          }
        },
        "parameters": [],
        "operationId": "WraftDocWeb.Api.V1.EngineController.index",
        "description": "API to list of all enignes creates/seeded so far"
      }
    },
    "/content_types": {
      "post": {
        "tags": [
          "ContentType"
        ],
        "summary": "Create content type",
        "responses": {
          "422": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unprocessable Entity"
          },
          "401": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Unauthorized"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/ContentTypeAndLayout"
            },
            "description": "Ok"
          }
        },
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/ContentTypeRequest"
            },
            "required": true,
            "name": "content_type",
            "in": "body",
            "description": "Content Type to be created"
          }
        ],
        "operationId": "WraftDocWeb.Api.V1.ContentTypeController.create",
        "description": "Create content type API"
      }
    }
  },
  "info": {
    "version": "0.0.1",
    "title": "Wraft Docs"
  },
  "host": "localhost:4000",
  "definitions": {
    "UserToken": {
      "type": "object",
      "title": "User and token",
      "required": [
        "token"
      ],
      "properties": {
        "user": {
          "$ref": "#/definitions/User"
        },
        "token": {
          "type": "string",
          "description": "JWT token for authenticating the user"
        }
      },
      "example": {
        "user": {
          "updated_at": "2020-01-21T14:00:00Z",
          "name": "John Doe",
          "inserted_at": "2020-02-21T14:00:00Z",
          "id": "1232148nb3478",
          "email_verify": true,
          "email": "email@xyz.com"
        },
        "token": "Asdlkqweb.Khgqiwue132.xcli123"
      },
      "description": "User details with the generated JWT token for authentication"
    },
    "UserRegisterRequest": {
      "type": "object",
      "title": "Register User",
      "required": [
        "password",
        "email",
        "name"
      ],
      "properties": {
        "password": {
          "type": "string",
          "description": "User's password"
        },
        "name": {
          "type": "string",
          "description": "User's name"
        },
        "email": {
          "type": "string",
          "description": "User's email"
        }
      },
      "example": {
        "password": "Password",
        "name": "John Doe",
        "email": "email@xyz.com"
      },
      "description": "A user to be registered in the application"
    },
    "UserLoginRequest": {
      "type": "object",
      "title": "User Login",
      "required": [
        "password",
        "email"
      ],
      "properties": {
        "password": {
          "type": "string",
          "description": "User's password"
        },
        "email": {
          "type": "string",
          "description": "User's email"
        }
      },
      "example": {
        "password": "Password",
        "email": "email@xyz.com"
      },
      "description": "A user log in to the application"
    },
    "User": {
      "type": "object",
      "title": "User",
      "required": [
        "email",
        "name",
        "id"
      ],
      "properties": {
        "updated_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the user last updated"
        },
        "name": {
          "type": "string",
          "description": "Users name"
        },
        "inserted_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the user inserted"
        },
        "id": {
          "type": "string",
          "description": "The ID of the user"
        },
        "email_verify": {
          "type": "boolean",
          "description": "Email verification status"
        },
        "email": {
          "type": "string",
          "description": "Users email"
        }
      },
      "example": {
        "updated_at": "2020-01-21T14:00:00Z",
        "name": "John Doe",
        "inserted_at": "2020-02-21T14:00:00Z",
        "id": "1232148nb3478",
        "email_verify": true,
        "email": "email@xyz.com"
      },
      "description": "A user of the application"
    },
    "ShowLayout": {
      "type": "object",
      "title": "Layout and all its details",
      "properties": {
        "layout": {
          "$ref": "#/definitions/LayoutAndEngine"
        },
        "creator": {
          "$ref": "#/definitions/User"
        }
      },
      "example": {
        "layout": {
          "width": 40.0,
          "updated_at": "2020-01-21T14:00:00Z",
          "unit": "cm",
          "slug": "Pandoc",
          "name": "Official Letter",
          "inserted_at": "2020-02-21T14:00:00Z",
          "id": "1232148nb3478",
          "height": 20.0,
          "engine": {
            "updated_at": "2020-01-21T14:00:00Z",
            "name": "Pandoc",
            "inserted_at": "2020-02-21T14:00:00Z",
            "id": "1232148nb3478",
            "api_route": ""
          },
          "description": "An official letter"
        },
        "creator": {
          "updated_at": "2020-01-21T14:00:00Z",
          "name": "John Doe",
          "inserted_at": "2020-02-21T14:00:00Z",
          "id": "1232148nb3478",
          "email_verify": true,
          "email": "email@xyz.com"
        }
      },
      "description": "API to show a layout and all its details"
    },
    "LayoutsAndEngines": {
      "type": "array",
      "title": "Layouts and its Engines",
      "items": {
        "$ref": "#/definitions/LayoutAndEngine"
      },
      "description": "All layouts that have been created and their engines"
    },
    "LayoutRequest": {
      "type": "object",
      "title": "Layout Request",
      "required": [
        "name"
      ],
      "properties": {
        "width": {
          "type": "float",
          "description": "Width of the layout"
        },
        "unit": {
          "type": "string",
          "description": "Unit of dimensions"
        },
        "slug": {
          "type": "string",
          "description": "Name of the slug to be used for the layout"
        },
        "name": {
          "type": "string",
          "description": "Layout's name"
        },
        "height": {
          "type": "float",
          "description": "Height of the layout"
        },
        "engine_id": {
          "type": "integer",
          "description": "ID of the engine selected"
        },
        "description": {
          "type": "string",
          "description": "Layout's description"
        }
      },
      "example": {
        "width": 40.0,
        "unit": "cm",
        "slug": "Pandoc",
        "name": "Official Letter",
        "height": 20.0,
        "engine_id": "1232148nb3478",
        "description": "An official letter"
      },
      "description": "Create layout request."
    },
    "LayoutAndEngine": {
      "type": "object",
      "title": "Layout and Engine",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "width": {
          "type": "float",
          "description": "Width of the layout"
        },
        "updated_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the layout last updated"
        },
        "unit": {
          "type": "string",
          "description": "Unit of dimensions"
        },
        "slug": {
          "type": "string",
          "description": "Name of the slug to be used for the layout"
        },
        "name": {
          "type": "string",
          "description": "Layout's name"
        },
        "inserted_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the layout created"
        },
        "id": {
          "type": "string",
          "description": "The ID of the layout"
        },
        "height": {
          "type": "float",
          "description": "Height of the layout"
        },
        "engine": {
          "$ref": "#/definitions/Engine"
        },
        "description": {
          "type": "string",
          "description": "Layout's description"
        }
      },
      "example": {
        "width": 40.0,
        "updated_at": "2020-01-21T14:00:00Z",
        "unit": "cm",
        "slug": "Pandoc",
        "name": "Official Letter",
        "inserted_at": "2020-02-21T14:00:00Z",
        "id": "1232148nb3478",
        "height": 20.0,
        "engine": {
          "updated_at": "2020-01-21T14:00:00Z",
          "name": "Pandoc",
          "inserted_at": "2020-02-21T14:00:00Z",
          "id": "1232148nb3478",
          "api_route": ""
        },
        "description": "An official letter"
      },
      "description": "Layout to be used for the generation of a document."
    },
    "Layout": {
      "type": "object",
      "title": "Layout",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "width": {
          "type": "float",
          "description": "Width of the layout"
        },
        "updated_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the layout last updated"
        },
        "unit": {
          "type": "string",
          "description": "Unit of dimensions"
        },
        "slug": {
          "type": "string",
          "description": "Name of the slug to be used for the layout"
        },
        "name": {
          "type": "string",
          "description": "Layout's name"
        },
        "inserted_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the layout created"
        },
        "id": {
          "type": "string",
          "description": "The ID of the layout"
        },
        "height": {
          "type": "float",
          "description": "Height of the layout"
        },
        "description": {
          "type": "string",
          "description": "Layout's description"
        }
      },
      "example": {
        "width": 40.0,
        "updated_at": "2020-01-21T14:00:00Z",
        "unit": "cm",
        "slug": "Pandoc",
        "name": "Official Letter",
        "inserted_at": "2020-02-21T14:00:00Z",
        "id": "1232148nb3478",
        "height": 20.0,
        "description": "An official letter"
      },
      "description": "A Layout"
    },
    "Error": {
      "type": "object",
      "title": "Errors",
      "required": [
        "error"
      ],
      "properties": {
        "error": {
          "type": "string",
          "description": "The message of the error raised"
        }
      },
      "description": "Error responses from the API"
    },
    "Engines": {
      "type": "array",
      "title": "Engines",
      "items": {
        "$ref": "#/definitions/Engine"
      },
      "description": "All engines that have been created"
    },
    "Engine": {
      "type": "object",
      "title": "Render engine",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "updated_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the engine last updated"
        },
        "name": {
          "type": "string",
          "description": "Engine's name"
        },
        "inserted_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the engine inserted"
        },
        "id": {
          "type": "string",
          "description": "The ID of the engine"
        },
        "api_route": {
          "type": "string",
          "description": "API route to be used"
        }
      },
      "example": {
        "updated_at": "2020-01-21T14:00:00Z",
        "name": "Pandoc",
        "inserted_at": "2020-02-21T14:00:00Z",
        "id": "1232148nb3478",
        "api_route": ""
      },
      "description": "A render engine to be used for document generation"
    },
    "ContentTypeRequest": {
      "type": "object",
      "title": "Content Type Request",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Content Type's name"
        },
        "layout_id": {
          "type": "integer",
          "description": "ID of the layout selected"
        },
        "fields": {
          "type": "map",
          "description": "Dynamic fields and their datatype"
        },
        "description": {
          "type": "string",
          "description": "Content Type's description"
        }
      },
      "example": {
        "name": "Offer letter",
        "layout_id": 1,
        "fields": {
          "position": "string",
          "name": "string",
          "joining_date": "date",
          "approved_by": "string"
        },
        "description": "An offer letter"
      },
      "description": "Create content type request."
    },
    "ContentTypeAndLayout": {
      "type": "object",
      "title": "Content Type and Layout",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "updated_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the user last updated"
        },
        "name": {
          "type": "string",
          "description": "Content Type's name"
        },
        "layout": {
          "$ref": "#/definitions/Layout"
        },
        "inserted_at": {
          "type": "string",
          "format": "ISO-8601",
          "description": "When was the user inserted"
        },
        "id": {
          "type": "string",
          "description": "The ID of the content type"
        },
        "fields": {
          "type": "map",
          "description": "Dynamic fields and their datatype"
        },
        "description": {
          "type": "string",
          "description": "Content Type's description"
        }
      },
      "example": {
        "updated_at": "2020-01-21T14:00:00Z",
        "name": "Offer letter",
        "layout": {
          "width": 40.0,
          "updated_at": "2020-01-21T14:00:00Z",
          "unit": "cm",
          "slug": "Pandoc",
          "name": "Official Letter",
          "inserted_at": "2020-02-21T14:00:00Z",
          "id": "1232148nb3478",
          "height": 20.0,
          "description": "An official letter"
        },
        "inserted_at": "2020-02-21T14:00:00Z",
        "id": "1232148nb3478",
        "fields": {
          "position": "string",
          "name": "string",
          "joining_date": "date",
          "approved_by": "string"
        },
        "description": "An offer letter"
      },
      "description": "Content Type to be used for the generation of a document."
    }
  },
  "basePath": "/api/v1"
}